# python_scripts

Сам репозиторий как шпора по питону.


## urllib2_stop_follow_redirect.py
Python2. Urllibe2 по дефолту не умеет при редиректе останавливаться на каждом шаге, а отправляет сразу к последнему редиректу.
Это может стать проблемой, если в процессее переходов присылаются cookies, которые надо сохранить и в будущем использовать. 
Для обхода этого пришлось наследоваться от HTTPRedirectHandler и переопределить поведение при редиректе. 
Так же добавил context для того, чтобы не ругалось на невалидный сертификат.

## parsing_csv.py
Пробуем парить csv

## create_folders.py
Создать 100 папок 00-99 и в каждой еще по 00-99. На одном из собеседований спросили.

## calculate_ip_pull.py
Принимает аргументы со списком ip и вытаскивает первый и последний, чтобы вычислить ip pull

## sqlite_sqlalchemy.py
Взять id и имя юзера телеграма и положить в базу данных sqlite
используется ORM SQL Alchemy

## db_backup.py
передача аргументов
архивирование tag.gz
снятие дампов
развертывание дампов
проверка наличия в папке файлов нужного типа
поиск на наличие стаых файлов
удаление файлов
обработка исключений
переменная даты и времени
оповещение через телеграм
многопоточность

## migrate_version_to_table.py
брать переменные из переменных сред
генерация словаря
разделение переменной по нужному символу
открытие и запись файла
циклы и исключения
выкачивание json страницы из confluence
загрузка файла страницы в confluence

## checksum.py
поиск файлов нужного типа в нужной папке
переменная даты и времени
вычисление чексумы записывая в файл
многопоточность

## telegram_sendvideo.py / telegram_message.py
передача аргументов
оповещение через телеграм
проксирование
обработка исключений
рандомный выбор

## postgres_rename_db_value.py
использование psycopg2 для работы с PostgreSQL

## update_wiki_redmine.py
словари
создания списка
брать переменные из переменных сред
отправка линка для изменения страницы в редмайне

## update_servers.py / trash_migrate_db_postgres.py
словари
получение переменных из консоли
выполенние команд системных
использование функций

## vmware_inventory.py
В 2017 году для использования динамического инвентари для vmware необходимо было использоовать этот скрипт и наработку от jetbrains встраивая его в запуск ansible.
Но была проблема, если надо использовать структуру виртуальных папок от VMWare. Пришлось обработать пару ошибок в скрипте.